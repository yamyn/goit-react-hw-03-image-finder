(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{13:function(e,t,a){e.exports={img:"ImageGalleryItem_img__2bF1s"}},15:function(e,t,a){e.exports={button:"Button_button__3QF_k"}},16:function(e,t,a){e.exports={p:"Notification_p__3F7kw"}},17:function(e,t,a){e.exports=a(44)},43:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(12),c=a.n(o),i=a(10),l=a(2),s=a(3),u=a(4),m=a(5),p={page:1,query:"Cat",fethImages:function(){var e=this,t="&q=".concat(this.query),a="&page=".concat(this.page);return fetch("https://pixabay.com/api/?key=14998986-82322fa46abf8765da09830ba"+t+"&per_page=12"+a).then((function(e){return e.json()})).then((function(t){return e.incrementPage(),t.hits}))},incrementPage:function(){this.page+=1},get currentQuery(){return this.query},set currentQuery(e){this.query=e},get currentPage(){return this.page},resetPage:function(){this.page=1}},g=function(e){return e.map((function(e){return{id:e.id,smallImg:e.webformatURL,bigImg:e.largeImageURL}}))},h=a(7),d=a.n(h),f=a(8),y=a(13),b=function(e){var t=e.src,a=e.alt;return r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:t,alt:a,className:y.img}))},v=a(9),_=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleKeyPress=function(t){"Escape"===t.code&&e.props.onClick()},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyPress)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyPress)}},{key:"render",value:function(){var e=this.props,t=e.src,a=e.alt,n=e.onClick;return r.a.createElement("div",{className:v.overlay,onClick:n},r.a.createElement("div",{className:v.modal},r.a.createElement("img",{src:t,alt:a})))}}]),a}(n.Component),E=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isModalOpen:!1,modalImg:""},e.openModalHandler=function(t){var a=t.currentTarget.dataset.img;e.setState({modalImg:a,isModalOpen:!0})},e.closeModalHandler=function(t){t&&t.currentTarget!==t.target||e.setState({isModalOpen:!1})},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.isModalOpen,n=t.modalImg,o=this.props,c=o.images,i=o.alt;return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:f.list},c.map((function(t){var a=t.id,n=t.smallImg,o=t.bigImg;return r.a.createElement("li",{key:a,className:f.item,onClick:e.openModalHandler,"data-img":o},r.a.createElement(b,{src:n,alt:i}))}))),a&&r.a.createElement(_,{src:n,alt:i,onClick:this.closeModalHandler}))}}]),a}(n.Component),k=a(6),O=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={query:""},e.handleChange=function(t){e.setState({query:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),e.props.onSubmit(e.state.query),e.setState({query:""})},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.state.query;return r.a.createElement("header",{className:k.bar},r.a.createElement("form",{className:k.form,onSubmit:this.handleSubmit},r.a.createElement("button",{type:"submit",className:k.button},r.a.createElement("span",{className:k.label},"Search")),r.a.createElement("input",{className:k.input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:e,onChange:this.handleChange})))}}]),a}(n.Component),w=a(14),I=a.n(w),S=function(e){var t=e.type;return r.a.createElement(I.a,{type:t,color:"#00BFFF",height:100,width:100,timeout:0})};S.defaultProps={type:"ThreeDots"};var j=S,N=a(15),C=function(e){var t=e.onClick;return r.a.createElement("button",{className:N.button,onClick:t,type:"button"},"Load More")},F=a(16),M=function(e){var t=e.message;return r.a.createElement("p",{className:F.p},t,"!")},q=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={images:[],isLoading:!1,isNotFound:!1},e.fetchImages=function(t){t&&"string"===typeof t&&(e.setState({images:[]}),p.currentQuery=t),p.fethImages().then((function(t){0!==t.length?e.setState((function(e){return{images:[].concat(Object(i.a)(e.images),Object(i.a)(g(t))),isNotFound:!1}})):e.setState({isNotFound:!0})})).finally((function(){e.setState({isLoading:!1})}))},e.getNewImgHandler=function(){e.setState({isLoading:!0}),e.fetchImages()},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.fetchImages()}},{key:"componentDidUpdate",value:function(e,t){t.images.length>12&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}},{key:"render",value:function(){var e=this.state,t=e.images,a=e.isLoading,n=e.isNotFound,o=p.currentQuery;return r.a.createElement("div",{className:d.a.container},r.a.createElement(O,{onSubmit:this.fetchImages}),n?r.a.createElement(M,{message:"Images for your query not found"}):r.a.createElement(r.a.Fragment,null,t.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement(E,{images:t,alt:o}),r.a.createElement("div",{className:d.a.loadingWrap},a?r.a.createElement(j,{type:"ThreeDots"}):r.a.createElement(C,{onClick:this.getNewImgHandler}))):r.a.createElement(j,{type:"Oval"})))}}]),a}(n.Component);a(43);c.a.render(r.a.createElement(q,null),document.querySelector("#root"))},6:function(e,t,a){e.exports={bar:"Searchbar_bar__3lszv",form:"Searchbar_form__XuKjc",button:"Searchbar_button__MhnaU",label:"Searchbar_label__1BV3w",input:"Searchbar_input__2C4aO"}},7:function(e,t,a){e.exports={container:"App_container__16xz_",loadingWrap:"App_loadingWrap__3s7IG"}},8:function(e,t,a){e.exports={list:"ImageGallery_list__3mqUc",item:"ImageGallery_item__35Kd3"}},9:function(e,t,a){e.exports={overlay:"Modal_overlay__2GjdW",modal:"Modal_modal__P3_V5"}}},[[17,1,2]]]);
//# sourceMappingURL=main.f2c4464a.chunk.js.map