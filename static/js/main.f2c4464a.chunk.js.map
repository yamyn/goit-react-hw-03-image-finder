{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/Notification/Notification.module.css","services/apiService.js","helpers/mapper.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Modal/Modal.js","components/ImageGallery/ImageGallery.js","components/Searchbar/Searchbar.js","components/Loader/Loader.js","components/Button/Button.js","components/Notification/Notification.js","components/App/App.js","index.js","components/Searchbar/Searchbar.module.css","components/App/App.module.css","components/ImageGallery/ImageGallery.module.css","components/Modal/Modal.module.css"],"names":["module","exports","page","query","fethImages","queryParam","this","currentPage","fetch","baseUrl","then","response","json","data","incrementPage","hits","string","resetPage","map","hit","id","smallImg","webformatURL","bigImg","largeImageURL","ImageGalleryItem","src","alt","className","img","Modal","handleKeyPress","event","code","props","onClick","window","addEventListener","removeEventListener","overlay","modal","Component","ImageGallery","state","isModalOpen","modalImg","openModalHandler","currentTarget","dataset","setState","closeModalHandler","target","images","list","key","item","data-img","SearchBar","handleChange","value","handleSubmit","preventDefault","onSubmit","bar","form","type","button","label","input","autoComplete","autoFocus","placeholder","onChange","Loader","color","height","width","timeout","defaultProps","Button","Notification","message","p","App","isLoading","isNotFound","fetchImages","imagesApi","currentQuery","res","length","mapper","finally","getNewImgHandler","prevProps","prevState","scrollTo","top","document","documentElement","scrollHeight","behavior","styles","container","loadingWrap","ReactDOM","render","querySelector"],"mappings":"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","file":"static/js/main.f2c4464a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"img\":\"ImageGalleryItem_img__2bF1s\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3QF_k\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"p\":\"Notification_p__3F7kw\"};","const baseUrl = 'https://pixabay.com/api/';\nconst apiKey = '?key=14998986-82322fa46abf8765da09830ba';\nconst countImage = '&per_page=12';\nexport default {\n    page: 1,\n    query: 'Cat',\n\n    fethImages() {\n        const queryParam = `&q=${this.query}`;\n        const currentPage = `&page=${this.page}`;\n\n        return fetch(baseUrl + apiKey + queryParam + countImage + currentPage)\n            .then(response => response.json())\n            .then(data => {\n                this.incrementPage();\n                return data.hits;\n            });\n    },\n\n    incrementPage() {\n        this.page += 1;\n    },\n\n    get currentQuery() {\n        return this.query;\n    },\n\n    set currentQuery(string) {\n        this.query = string;\n    },\n\n    get currentPage() {\n        return this.page;\n    },\n\n    resetPage() {\n        this.page = 1;\n    },\n};\n","export default hits =>\n    hits.map(hit => ({\n        id: hit.id,\n        smallImg: hit.webformatURL,\n        bigImg: hit.largeImageURL,\n    }));\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { img } from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ src, alt }) => (\n    <>\n        <img src={src} alt={alt} className={img} />\n    </>\n);\n\nImageGalleryItem.propTypes = {\n    src: PropTypes.string.isRequired,\n    alt: PropTypes.string,\n};\n\nexport default ImageGalleryItem;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { overlay, modal } from './Modal.module.css';\n\nexport default class Modal extends Component {\n    static propTypes = {\n        src: PropTypes.string.isRequired,\n        alt: PropTypes.string,\n        onClick: PropTypes.func.isRequired,\n    };\n\n    componentDidMount() {\n        window.addEventListener('keydown', this.handleKeyPress);\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('keydown', this.handleKeyPress);\n    }\n\n    handleKeyPress = event => {\n        if (event.code !== 'Escape') return;\n\n        this.props.onClick();\n    };\n\n    render() {\n        const { src, alt, onClick } = this.props;\n        return (\n            <div className={overlay} onClick={onClick}>\n                <div className={modal}>\n                    <img src={src} alt={alt} />\n                </div>\n            </div>\n        );\n    }\n}\n","import React, { Component } from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport { list, item } from './ImageGallery.module.css';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport Modal from '../Modal/Modal';\n\nexport default class ImageGallery extends Component {\n    static propTypes = {\n        images: PropTypes.arrayOf(\n            PropTypes.shape({\n                id: PropTypes.number.isRequired,\n                smallImg: PropTypes.string.isRequired,\n            }),\n        ).isRequired,\n        alt: PropTypes.string.isRequired,\n    };\n\n    state = {\n        isModalOpen: false,\n        modalImg: '',\n    };\n\n    openModalHandler = event => {\n        const img = event.currentTarget.dataset.img;\n        this.setState({ modalImg: img, isModalOpen: true });\n    };\n\n    closeModalHandler = event => {\n        if (!event || event.currentTarget === event.target)\n            this.setState({ isModalOpen: false });\n        return;\n    };\n\n    render() {\n        const { isModalOpen, modalImg } = this.state;\n        const { images, alt } = this.props;\n        return (\n            <>\n                <ul className={list}>\n                    {images.map(({ id, smallImg, bigImg }) => (\n                        <li\n                            key={id}\n                            className={item}\n                            onClick={this.openModalHandler}\n                            data-img={bigImg}\n                        >\n                            <ImageGalleryItem src={smallImg} alt={alt} />\n                        </li>\n                    ))}\n                </ul>\n                {isModalOpen && (\n                    <Modal\n                        src={modalImg}\n                        alt={alt}\n                        onClick={this.closeModalHandler}\n                    />\n                )}\n            </>\n        );\n    }\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { bar, form, button, label, input } from './Searchbar.module.css';\n\nexport default class SearchBar extends Component {\n    static propTypes = {\n        onSubmit: PropTypes.func.isRequired,\n    };\n\n    state = { query: '' };\n\n    handleChange = event => {\n        this.setState({ query: event.target.value });\n    };\n\n    handleSubmit = event => {\n        event.preventDefault();\n\n        this.props.onSubmit(this.state.query);\n\n        this.setState({\n            query: '',\n        });\n    };\n\n    render() {\n        const query = this.state.query;\n        return (\n            <header className={bar}>\n                <form className={form} onSubmit={this.handleSubmit}>\n                    <button type=\"submit\" className={button}>\n                        <span className={label}>Search</span>\n                    </button>\n\n                    <input\n                        className={input}\n                        type=\"text\"\n                        autoComplete=\"off\"\n                        autoFocus\n                        placeholder=\"Search images and photos\"\n                        value={query}\n                        onChange={this.handleChange}\n                    />\n                </form>\n            </header>\n        );\n    }\n}\n","import React from 'react';\nimport LoaderSpinner from 'react-loader-spinner';\nimport PropTypes from 'prop-types';\n\nconst Loader = ({ type }) => (\n    <LoaderSpinner\n        type={type}\n        color=\"#00BFFF\"\n        height={100}\n        width={100}\n        timeout={0}\n    />\n);\n\nLoader.defaultProps = {\n    type: 'ThreeDots',\n};\n\nLoader.propTypes = {\n    type: PropTypes.string,\n};\n\nexport default Loader;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { button } from './Button.module.css';\n\nconst Button = ({ onClick }) => (\n    <button className={button} onClick={onClick} type=\"button\">\n        Load More\n    </button>\n);\n\nButton.propTypes = {\n    onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { p } from './Notification.module.css';\n\nconst Notification = ({ message }) => <p className={p}>{message}!</p>;\n\nNotification.propTypes = {\n    message: PropTypes.string.isRequired,\n};\n\nexport default Notification;\n","import React, { Component } from 'react';\n\nimport imagesApi from '../../services/apiService';\nimport mapper from '../../helpers/mapper';\n\nimport styles from './App.module.css';\n\nimport ImageGallery from '../ImageGallery/ImageGallery';\nimport Searchbar from '../Searchbar/Searchbar';\nimport Loader from '../Loader/Loader';\nimport Button from '../Button/Button';\nimport Notification from '../Notification/Notification';\n\nexport default class App extends Component {\n    state = {\n        images: [],\n\n        isLoading: false,\n        isNotFound: false,\n    };\n\n    componentDidMount() {\n        this.fetchImages();\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if (prevState.images.length > 12) {\n            window.scrollTo({\n                top: document.documentElement.scrollHeight,\n                behavior: 'smooth',\n            });\n        }\n    }\n\n    fetchImages = query => {\n        if (query && typeof query === 'string') {\n            this.setState({ images: [] });\n            imagesApi.currentQuery = query;\n        }\n\n        imagesApi\n            .fethImages()\n            .then(res => {\n                if (res.length === 0) {\n                    this.setState({ isNotFound: true });\n\n                    return;\n                }\n                this.setState(state => ({\n                    images: [...state.images, ...mapper(res)],\n                    isNotFound: false,\n                }));\n            })\n            .finally(() => {\n                this.setState({ isLoading: false });\n            });\n    };\n\n    getNewImgHandler = () => {\n        this.setState({ isLoading: true });\n        this.fetchImages();\n    };\n\n    render() {\n        const { images, isLoading, isNotFound } = this.state;\n        const alt = imagesApi.currentQuery;\n\n        return (\n            <div className={styles.container}>\n                <Searchbar onSubmit={this.fetchImages} />\n                {isNotFound ? (\n                    <Notification message=\"Images for your query not found\" />\n                ) : (\n                    <>\n                        {images.length > 0 ? (\n                            <>\n                                <ImageGallery images={images} alt={alt} />\n                                <div className={styles.loadingWrap}>\n                                    {isLoading ? (\n                                        <Loader type=\"ThreeDots\" />\n                                    ) : (\n                                        <Button\n                                            onClick={this.getNewImgHandler}\n                                        />\n                                    )}\n                                </div>\n                            </>\n                        ) : (\n                            <Loader type=\"Oval\" />\n                        )}\n                    </>\n                )}\n            </div>\n        );\n    }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\nimport './style.css';\n\nReactDOM.render(<App />, document.querySelector('#root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bar\":\"Searchbar_bar__3lszv\",\"form\":\"Searchbar_form__XuKjc\",\"button\":\"Searchbar_button__MhnaU\",\"label\":\"Searchbar_label__1BV3w\",\"input\":\"Searchbar_input__2C4aO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"App_container__16xz_\",\"loadingWrap\":\"App_loadingWrap__3s7IG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"ImageGallery_list__3mqUc\",\"item\":\"ImageGallery_item__35Kd3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__2GjdW\",\"modal\":\"Modal_modal__P3_V5\"};"],"sourceRoot":""}